<!DOCTYPE html>
<html>
    <head>
        <!-- T√™n c·ªßa trang web -->
        <title>SPCK-JSB49</title>
        <link rel="stylesheet" href="/danh m·ª•c/css/danhmuc.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <div class="container2">
            <div class="navbar">
                <div class="logo">
                    <img src="/danh m·ª•c/image/logo.png" width="200px">
                </div>
                <nav>
                  <ul>
                      <li><a href="/Trang ch·ªß/trangchu.html">Home</a></li>
                      <li><a href="/Th√¥ng tin/tt.html">About</a></li>
                      <li><a href="/Li√™n h·ªá/lh.html">Contact</a></li>
                      <li><a href="/ƒêƒÉng nh·∫≠p , ƒëƒÉng k√Ω/ƒêƒÉng k√Ω/dangky.html">Account</a></li>
                      <li><a href="/Th·ªùi ti·∫øt/tt.html">Weather</a></li>
                  </ul>
                </nav>
            </div>
        </div>
        

 <div class="section-divider"></div>   
<div class="category-bar">
    <ul>
        <li><a href="#garan" class="category-link">G√Ä R√ÅN-G√Ä QUAY</a></li>
        <li><a href="#banhmi" class="category-link">B√ÅNH M√å</a></li>
        <li><a href="#thucannhe" class="category-link">TH·ª®C ƒÇN NH·∫∏</a></li>
        <li><a href="#douong" class="category-link">ƒê·ªí U·ªêNG</a></li>
    </ul>
</div>

<section id="garan" class="menu-section">
    <h2 class="section-title">G√Ä R√ÅN-G√Ä QUAY</h2>
    <div class="product-grid">
    <div class="product-card">
            <img src="/danh m·ª•c/image/garan2.jpg" class="product-img">

            <h3 class="product-name">G√† r√°n</h3>

            <div class="product-price">
                <span class="price-new">35.000ƒë</span>
              
            </div>

            <p class="product-desc">
                1 mi·∫øng g√† r√°n
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'ga-ran-1',
    'G√† r√°n',
    35000,
    '/danh m·ª•c/image/garan2.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'ga1',
    'G√† r√°n',
    35000,
    '/danh m·ª•c/image/garan2.jpg'
)">
Th√™m
</button>
</div>

    </div>
        <div class="product-card">
            <img src="/danh m·ª•c/image/gaquay.jpg" class="product-img">

            <h3 class="product-name">G√† Quay</h3>

            <div class="product-price">
                <span class="price-new">40.000ƒë</span>
              
            </div>

            <p class="product-desc">
                1 mi·∫øng g√† quay
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'ga-quay-1',
    'G√† quay',
    40000,
    '/danh m·ª•c/image/gaquay.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'gaquay1',
    'G√† quay',
    40000,
    '/danh m·ª•c/image/gaquay.jpg'
)">
Th√™m
</button>
</div>

    </div>
</section>

<!-- M√ìN M·ªöI -->
<section id="banhmi" class="menu-section">
    <h2 class="section-title">B√ÅNH M√å</h2>
    <div class="product-list"></div>
    <div class="product-grid">
    <div class="product-card">
            <img src="/danh m·ª•c/image/banhmitrung.jpg" class="product-img">

            <h3 class="product-name">B√°nh m√¨ tr·ª©ng</h3>

            <div class="product-price">
                <span class="price-new">15.000ƒë</span>
              
            </div>

            <p class="product-desc">
                b√°nh m√¨ , tr·ª©ng
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'banhmitrung1',
    'B√°nh m√¨ tr·ª©ng',
    15000,
    '/danh m·ª•c/image/banhmitrung.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'banhmitrung1',
    'B√°nh m√¨ tr·ª©ng',
    15000,
    '/danh m·ª•c/image/banhmitrung.jpg'
)">
Th√™m
</button>
</div>

    </div>
        <div class="product-card">
            <img src="/danh m·ª•c/image/banhmithitnuong.jpg" class="product-img">

            <h3 class="product-name">B√°nh m√¨ th·ªãt n∆∞·ªõng</h3>

            <div class="product-price">
                <span class="price-new">30.000ƒë</span>
              
            </div>

            <p class="product-desc">
                B√°nh m√¨ , th·ªãt n∆∞·ªõng
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'banhmithitnuong1',
    'B√°nh m√¨ th·ªãt n∆∞·ªõng',
    30000,
    '/danh m·ª•c/image/banhmithitnuong.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'banhmithitnuong1',
    'B√°nh m√¨ th·ªãt n∆∞·ªõng',
    30000,
    '/danh m·ª•c/image/banhmithitnuong.jpg'
)">
Th√™m
</button>
</div>

    </div>
    <div class="product-card">
            <img src="/danh m·ª•c/image/apchao.jpg" class="product-img">

            <h3 class="product-name">B√°nh m√¨ ch·∫£o</h3>

            <div class="product-price">
                <span class="price-new">35.000ƒë</span>
              
            </div>

            <p class="product-desc">
                B√°nh m√¨ , tr·ª©ng , pate , th·ªãt b√≤
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'banhmichao1',
    'B√°nh m√¨ ch·∫£o',
    35000,
    '/danh m·ª•c/image/apchao.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'banhmichao1',
    'B√°nh m√¨ ch·∫£o',
    35000,
    '/danh m·ª•c/image/apchao.jpg'
)">
Th√™m
</button>
</div>

    </div>
</section>

<!-- COMBO 1 NG∆Ø·ªúI -->
<section id="thucannhe" class="menu-section">
    <h2 class="section-title">TH·ª®C ƒÇN NH·∫∏</h2>
    <div class="product-list"></div>
    <div class="product-grid">
    <div class="product-card">
            <img src="/danh m·ª•c/image/salad.jpg" class="product-img">

            <h3 class="product-name">Salad</h3>

            <div class="product-price">
                <span class="price-new">10.000ƒë</span>
              
            </div>

            <p class="product-desc">
                C√°c lo·∫°i rau
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'salad1',
    'Salad',
    10000,
    '/danh m·ª•c/image/salad.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'salad1',
    'Salad',
    10000,
    '/danh m·ª•c/image/salad.jpg'
)">
Th√™m
</button>
</div>

    </div>
        <div class="product-card">
            <img src="/danh m·ª•c/image/khoaitay.jpg" class="product-img">

            <h3 class="product-name">Khoai t√¢y chi√™n</h3>

            <div class="product-price">
                <span class="price-new">10.000ƒë</span>
              
            </div>

            <p class="product-desc">
                khoai t√¢y
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'khoaitay1',
    'Khoai t√¢y chi√™n',
    10000,
    '/danh m·ª•c/image/khoaitay.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'khoaitay1',
    'Khoai t√¢y chi√™n',
    10000,
    '/danh m·ª•c/image/khoaitay.jpg'
)">
Th√™m
</button>
</div>

    </div>
</section>

<!-- COMBO NH√ìM -->
<section id="douong" class="menu-section">
    <h2 class="section-title">ƒê·ªí U·ªêNG</h2>
    <div class="product-list"></div>
    <div class="product-grid">
    <div class="product-card">
            <img src="/danh m·ª•c/image/coca.jpg" class="product-img">

            <h3 class="product-name">Coca</h3>

            <div class="product-price">
                <span class="price-new">10.000ƒë</span>
              
            </div>

            <p class="product-desc">
                coca
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    'coca1',
    'Coca',
    10000,
    '/danh m·ª•c/image/coca.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    'coca1',
    'Coca',
    10000,
    '/danh m·ª•c/image/coca.jpg'
)">
Th√™m
</button>
</div>

    </div>
        <div class="product-card">
            <img src="/danh m·ª•c/image/7up.jpg" class="product-img">

            <h3 class="product-name">7up</h3>

            <div class="product-price">
                <span class="price-new">10.000ƒë</span>
              
            </div>

            <p class="product-desc">
                7up
            </p>
            <div class="product-actions">
            <button class="btn-custom"
onclick="openCustom(
    '7up1',
    '7up',
    10000,
    '/danh m·ª•c/image/7up.jpg'
)">
    T√πy ch·ªânh
</button>

            <button class="btn-add"
onclick="addToCart(
    '7up1',
    '7up',
    10000,
    '/danh m·ª•c/image/7up.jpg'
)">
Th√™m
</button>
</div>

    </div>
</section>

<div class="cart-icon" onclick="goToCart()">
    üõí <span id="cart-count">0</span>
</div>


<!-- Gi·ªè h√†ng -->
<div class="cart-modal" id="cartModal">
    <div class="cart-box">
        <h3>Gi·ªè h√†ng</h3>
        <div id="cart-items"></div>
        <div class="cart-footer">
            <strong>T·ªïng: <span id="cart-total">0</span> ƒë</strong>
            <button onclick="closeCart()">ƒê√≥ng</button>
          

        </div>
    </div>
</div>
<!-- MODAL T√ôY CH·ªàNH -->
<div class="custom-modal" id="customModal">
    <div class="custom-box">
        <h3>T√πy ch·ªânh m√≥n</h3>

        <!-- SIZE -->
        <div class="option-group">
            <p>Ch·ªçn size</p>
            <label><input type="radio" name="size" value="S" checked> Size S (+0ƒë)</label>
            <label><input type="radio" name="size" value="M"> Size M (+10.000ƒë)</label>
            <label><input type="radio" name="size" value="L"> Size L (+20.000ƒë)</label>
        </div>

        <!-- S·ªêT -->
        <div class="option-group">
            <p>Ch·ªçn s·ªët</p>
            <label><input type="checkbox" value="Cay"> S·ªët cay (+5.000ƒë)</label>
            <label><input type="checkbox" value="Ph√¥ mai"> S·ªët ph√¥ mai (+5.000ƒë)</label>
        </div>

        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeCustom()">H·ªßy</button>
            <button class="btn-add" onclick="confirmCustom()">Th√™m v√†o gi·ªè</button>
        </div>
    </div>
</div>




        
    <div class="footer">
        <div class="c3">
             <div class="row">
                 <div class="footer-col-1">
                     <h3>Download our app</h3>
                     <p>Download App for Android and Ios mobile phone</p>
                     <div class="app-logo">
                         <img class="playstore" src="/danh m·ª•c/image/play-store-logo-33874.png" width="140px">
                         <img class="appstore" src="/danh m·ª•c/image/app-store-png-logo-33116.png" width="200px">
                     </div>
                 </div>
                 <div class="footer-col-2">
                     <img src="/danh m·ª•c/image/logo.png" width="300px">
                     <p>Our purpose is to sutainanly make the pleasure</p>
                 </div>
                 <div class="footer-col-3">
                     <h3>Useful links</h3>
                     <ul>
                         <li>Coupons</li>
                         <li>Blog post</li>
                         <li>Return Policy</li>
                         <li>Join Affiliate</li>
                     </ul>
                 </div>
                 <div class="footer-col-4">
                     <h3>Follow us</h3>
                     <ul>
                         <li>Facebook</li>
                         <li>Twitter</li>
                         <li>Instargram</li>
                         <li>Youtube</li>
                     </ul>
                 </div>
        </div>
    </div>
   </div>      
    </body>
    <script src="/danh m·ª•c/js/do.js"></script>
    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, set, onValue, update } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAM97h4SZzzqF-mCbcnqQGk4zVjPFvtvy8",
  authDomain: "fir-893ff.firebaseapp.com",
  databaseURL: "https://fir-893ff-default-rtdb.firebaseio.com",
  projectId: "fir-893ff",
  storageBucket: "fir-893ff.firebasestorage.app",
  messagingSenderId: "583333167187",
  appId: "1:583333167187:web:c3cc99f7631411cdd0c6a6"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const cartRef = ref(db, "cart/user1");

/* Th√™m v√†o gi·ªè */
window.addToCart = function(id, name, price, image) {
    const itemRef = ref(db, "cart/user1/" + id);

    onValue(itemRef, snap => {
        if (snap.exists()) {
            update(itemRef, {
                quantity: snap.val().quantity + 1
            });
        } else {
            set(itemRef, {
                name, price, image, quantity: 1
            });
        }
    }, { onlyOnce: true });
}

/* ƒê·∫øm s·ªë l∆∞·ª£ng gi·ªè */
const cartCount = document.getElementById("cart-count");
onValue(cartRef, snapshot => {
    let count = 0;
    snapshot.forEach(child => {
        count += child.val().quantity;
    });
    cartCount.innerText = count;
});

/* Chuy·ªÉn trang gi·ªè h√†ng */
window.goToCart = function() {
    window.location.href = "/Gi·ªè h√†ng/html/giohang.html"
}
let currentProduct = null;

window.openCustom = function(id, name, price, image) {
    currentProduct = { id, name, price, image };
    document.getElementById("customModal").style.display = "flex";
}

window.closeCustom = function() {
    document.getElementById("customModal").style.display = "none";
}
window.confirmCustom = function() {
    const size = document.querySelector('input[name="size"]:checked').value;
    const sauces = [...document.querySelectorAll('.option-group input[type="checkbox"]:checked')]
                    .map(i => i.value);

    let extra = 0;
    if (size === "M") extra += 10000;
    if (size === "L") extra += 20000;
    extra += sauces.length * 5000;

    const finalPrice = currentProduct.price + extra;
    const cartId = currentProduct.id + "-" + size + "-" + sauces.join("-");

    addToCart(
        cartId,
        `${currentProduct.name} (Size ${size}, ${sauces.join(", ") || "Kh√¥ng s·ªët"})`,
        finalPrice,
        currentProduct.image
    );

    closeCustom();
}

</script>
   
</html>